# 액티비티 생명주기

**Activity**는 3가지 상태를 가짐.

`활성(Active)`,`일시정지(Paused)`,` 정지(Stopped)`

### onSaveInstanceState()

 메모리 부족등으로 "어쩔 수 없이" 액티비티를 종료해야 하는 경우
 onSaveInstanceState() 호출되며 액티비티의 상태를 Bundle형태로 저장된다. onSaveInstanceState()메소드는 항상 호출되는 것이 아니라, 만약 호출된다면 `onPause()` 또는 `onStop()`이후에 이후 호출됨.  

 이는 나중에 해당 액티비티를 다시 실행할 때 `onCreate()`메소드 및 `onRestoreInstanceState()`메소드를 통해 에서 액티비티가 강제로 종료될 때의 상태로 액티비티를 복원하게 된다.  

`onCreate()`와 `onRestoreInstanceState()`모두 Bundle객체를 인자로 받고 있으며, 실제로 액티비티가
강제 종료될 때 저장된 상태정보가 담겨있는 Bundle 객체의 정보를 동일하게 전달받게 됩니다.  

 따라서 액티비티 상태의 복구는 두 메소드 모두에게 처리해줄 수 있으며, 상황에 따라 적합한 메소드에서 상태를
복원해주는 코드를 넣어주면 됩니다.
`onRestoreInstanceState()` 메소드 역시 항상 되는 메소드가 아니며, 



**호출된다면 `onCreate()` 이후에 호출됨.**

 다시 정리해서, 위의 두 메소드는 액티비티가 "강제로" 종료되었을 때 혹은 그 후 액티비티를 다시 실행시킬 때만
실행되므로, 만약 액티비티가 시작하거나 종료될 때 해 주어야 할 작업이 있다면 저 두 메소드를 오버라이드 하는 대신
**onCreate(), onStop(), onDestroy()**메소드를 오버라이드한 후 그 안에 코드를 구현해야 안정적으로 해당 작업 처리



`void onCreate(Bundle savedInstanceState)`

 액티비티가 생성될때 호출되는 메소드로써, 액티비티가 생성 => 활성화 되며,
이는 데이터베이스, 위젯초기화등을 이 State에서 처리해준다.

- Activites initializtion.
 - 기본적으로 각종 버튼이나 리스트,체크박스 위젯들이 배치되어 있는
	 레이아웃을 구성하므로, 그러한 위젯들이 사용자와 상호작용을 할 수 있도록 해주는 코드들을 담고 있어야함.

`void onStart()`

 액티비티가 사용자와 상호작용을 중단 할때 호출됨, 액티비티가 활성 => 정지

 - 액티비티가 실행되다가 다른 액티비티가 화면에 표시되어 정지 상태가 되면서 `onStop()`이 호출되었다가, 메모리에서 사라지기 전에 다시 정지되었던 액티비티가 호출되어 `onRestart()`를 거쳐 오거나, 혹은 메모리가 부족하여 프로세스가 종료되었다가 다시 액티비티를 생성하고,(onCreate() 호출 )액티비티를 화면에 표시하면서 onStart()를 호출하게  
 - 즉, `onStart()`에서는 정지(Stopped)상태에서 액티비티가 복귀될때 호출된다고 할 수 있습니다.
     이는 한마디로 액티비티가 화면에서 보이지 않다가 다시 나타나는 것을 의미.  

`void onRestart()`  
`void onResume()`  

 - 액티비티가 일시정지상태에서 복귀될 때 호출되며, 이는 액티비티가 사용자와 상호작용을 하지 못하다가 다시
상호작용을 할 수 있게 되는 것을 의미한다.

이렇게, 액티비티가 대기 상태에 있다가 복귀되는 시점및 복귀되는 기능이 다르기 때문에 onStart() onResume()처럼
시작 과정이 복잡하게 나누어져 있는것.

`void onPause()`

 액티비티가 화면에는 표시되고 있지만, 사용자와 상호작용을 하지 않아서입니다. 일시정지 상태에는 이것 외에는 중요한 것이 하나 더 있는데, 이는 일시정지 상태에서도 메모리가 부족하면 액티비티가 종료될 수 있음.

`void onStop()`

- 액티비티가 화면에서 사라질 때 호출되며, 액티비티는 변동이없고, 필수로 저장해야 하는 데이터 저장(설정값)

`void onDestroy()`

 - 액티비티가 종료될 때 호출됨, 데이터베이스 닫기.
