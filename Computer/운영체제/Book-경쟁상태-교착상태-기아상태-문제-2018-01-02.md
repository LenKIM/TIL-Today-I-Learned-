1. 경쟁상태에 대하여 예를 들어 충분히 설명하세요.

   - 여러 프로세스가 공유 데이터를 동시에 접근할 때 공유 데이터에 대한 실행순서에 따라 실행 결과가 달라지는 상황
   - 상호배제를 안했을때 나타나는 현상
   - **공유 데이터에 최종적으로 남은 결과값을 보장할 수 없는 상황**

2. 프로그램적으로 CS의 문제를 해결할 수 있는 충족 조건은???

   - 둘 이상의 프로세스에 의해서 동시에 접근하면 안되는 공유 자원(임계자원)에 접근하는 영역(코드 영역), 즉 프로그램에서 공유데이터(임계자원)을 이용하는 부분.
   - 다수의 프로세서가 접근 가능한 영역이면서 한 군간에 하나의 프로세서만 사용할 수 있는 영역

3. 상호배제(Mutual Exclusion)하는 방법은 크게 OOOO와 (          ), (          ), (        ), (        ) 등의 방법이 있다. 세마포어의 두 가지 연산을 설명하세요.
   ​
   바쁜 대기, sleep-wakeup, 세마포어, 모니터, 메세지전달
   P V 

4. 교착상태란 무엇이고, 교착상태 발생 조건 4가지에 대해서 작성하세요.

   ​

   ​

5. 교착상태 회피 기법인 은행가 알고리즘에 대하여 설명하세요.

   ​

6. 기아상태를 설명하는 '식사하는 철학자 문제'에 대하여 설명하세요.
   ​

7. 교착 상태와 기아 상태 사이의 주요 차이점은?  
   ​
   \- 교착상태 : 자원을 자유롭게 할당한 결과  

   \- 기아상태 : 교착상태와 반대로 하나의 작업에서 결코 사용할 수 없는 자원을 계속 해서 기다리게 되는 결과를 예방하기 위해서 자원을 할당하게 될 때 발생되는 결과이다.
   ​

8. 프로세스 2개와 자원 2개가 교착 상태에 있다는 것을 나타내도록 자원 할당 그래프를 그리시오.  

   P1 		P2 		R1	 	R2

9. 경쟁 상태와 교착 상태의 차이점은? 

   교착 상태는 둘 이상의 프로세스가 서로 남이 가진 자원을 요구하면서 양쪽 모두 작업 수행을 할 수 없이 대기 상태로 놓이는 상태이며, 경쟁 상태는 하나의 자원을 가지기 위해 서로 싸우는 상태를 의미한다 

   http://blog.naver.com/PostView.nhn?blogId=auturm96&logNo=220876186581&categoryNo=168&parentCategoryNo=0&viewDate=&currentPage=1&postListTopCurrentPage=1&from=postView



10. 만약 은행가 알고리즘 계산 문제를 낸 사람없으면 같이 생각해서 결과 도출하기.

    ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fn11c5am1aj317007mtaf.jpg)

    ​





11. ​

![](https://ws3.sinaimg.cn/large/006tKfTcgy1fn1zzcw2x3j30f0160wl5.jpg)

12. 다음 알고리즘의 Process0 영역과 Process1영역의 빈칸을 넣으세요 

	rocess0(P0)			

1._____________ => flag[1] == true //들어가야되나 말아야되나

2._____________  => turn == 1 //Busy-waiting 에 해당되는 영역

3._____________ => flag[0] = false			

4._____________ => turn = 1		

Process(P1)

1._____________ => flag[0] == true

2._____________ => turn == 0

3._____________ => flag[1] = false

4._____________ => turn == 0



13. 다음 코드의 출력 값과 정확한 값을 얻기 위해서는 어떠한 조치를 취해야 하는지 설명하세요  
    **2.**  **동기화가 필요하다. 동기화를 해주긴 하는 volatile을 변수가 있으나 add 연산은 동기화가 되지 않는다.** 
    상호배제를 시도했으나, 되지 않았다.

    ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fn205i51t2j30w00qqahi.jpg)

    1. 200000


    2. 200000 이하
    3. 200000 이상
    4. 0

14.  교착상태의 4가지 필요조건에 해당하지 않는 것은?  1.

    1. 자원을 보유하고 있는 프로세스로부터 다른 프로세스가 강제로 그 자원을 빼앗을 수 있다.
    2. 자원들을 요구하는 프로세스와 그 자원을 사용중인 프로세스의 관계를 방향성 그래프로 그리면 닫힌 환형이 된다.
    3. 프로세스들이 그들이 필요로 하는 자원에 대해 배타적인 통제권을 요구한다.
    4. 프로세스는 다른 자원이 할당되기를 기다리는 동안 이미 확보한 자원을 계속 보유하고 있다.

15. 다음의 은행원 알고리즘에서 시스템이 안전 상태인지 불안전 상태 인지 밝히고 그 이유를 설명하세요. 만약 안전상태라면 프로세스들이 안전하게 종료할 수 있는 순서(안전순서)를 나열하세요.  
    총 자원의 개수 = 9

|       | Allocation(i) | Max(i) | Need(i) | Avilable |
| ----- | ------------- | ------ | ------- | -------- |
| 프로세스1 | 2             | 7      | **5**   |          |
| 프로세스2 | 1             | 2      | **1**   |          |
| 프로세스3 | 3             | 6      | **3**   |          |
| 프로세스4 | 2             | 4      | **2**   |          |

안정상태 / 2 4 3 1



16. 임계영역에 대한 설명으로 옳지 않은 것은? **4**
    1. 특정 프로세스가 독점해서는 안 된다.
    2. 프로세스 하나만 접근할 수 있다.
    3. 임계영역 안에서 작업은 신속하게 진행해야 한다.
    4. 실행 중인 프로세스가 일정 시간 동안 참조하는 페이지의 집합을 의미한다.  


17. 상호배제 방법 중 특수한 하드웨어 명령어 필요한 것은?  
    ​
    TAS를 제외한 세마포어, 모니터.
    ​

18. O/X문제  
    1. 바쁜 대기를 유발하는 Test&Set 알고리즘보다 세마포어나 뮤텍스가 더 효율적이다. (X)  
    2. 임계 영역에서의 작업은 신속하게 이루어져야 한다. (O)  

19. 주어진 코드의 결과는?
    Thread1 0 1 2 또는 Thread2 0 1 2

    ![](https://ws2.sinaimg.cn/large/006tKfTcgy1fn20f0vx5qj30sc0z6tg3.jpg)

20. 데드락 발생 조건 4가지

    상호배제 / 점유와 대기 / 비선점 / 순환(환형)대기

21. 다음 중 옳은 설명을 모두 골라주세요. 1, 2(x), 3(x), 4, 5, 6(x)

    1. 상호배제는 병렬프로세스에서 프로세스 하나가 공유 자원을 사용할 때 다른 프로세스들이 동일한 사원을 사용할 수 없도록 하는 방법이다. 
    2. 1번에서 말하는 공유 자원을 임계 자원이라 부르며 임계자원에 접근하고 실행하는 프로그램 코드 부분을 임계 영역이라 한다. **이를 바탕으로 프로세스의 전형적인 구조는 입장구역과 퇴장구역이 나누어져 있다.**
    3. 임계구역 문제를 해결하기 위해 상호 배제, 진행, 유한 대기 조건이 만족해야 한다.  
       이 중 진행은 다른 프로세스가 임계 영역을 기다리는 상황을 방지하는 조건이다.  => **유한대기조건을 말한다.**  
    4. 임계구역 문제를 해결하는 알고리즘으론 대표적으로 피터슨 알고리즘과 데커 알고리즘이 있다. 위 두 알고리즘은 여러 개의 프로세스가 하나의 공유자원을 사용할 수 있게 만든다. **여러 개가 프로세스가 아니라 2개 프로세스**
    5. 세마포어는 두개의 표준 원자적 연산 P와 V로만 조작 되는 정수 변수로서 공유 자원에 대한 접근 제한 방법이다. P 연산은 세마포어 값에 따라 접근 여부를 확인해, 0이면 접근 금지, 1이상이면 접근 허락하고 동시에 세마포어 값을 1 감소 시킨다. V연산은 종료 뒤 세마포어 값을 1증가 시켜 (3번)의 **진행**을 만족하여 접근 제어한다.
    6.  세마포어의 문제점은 프로그래머가 세마포어를 잘못 이해하여 사용한 경우에 발생한다. 예를 들어 wait(mutex) – critical section – wait(mutex) 구조로 세마포어를 이용한다면 상호 배제// **DeadLock현상을 발생** 요구 조건에 위배가 될 것이다.  
       **DeadLock현상을 발생한다.**
       ​
       https://blog.naver.com/ecarooce/140050543483

22. 뮤택스와 세마포어, 그리고 모니터란?
    ​
    세마포어는 추상형 오브젝트로서, P(S),  V(S)로 구성되어 있다. P는 새마포어를 획득하는 과정을 말하고 S는 자원을 사용한 뒤 반납하는 과정이라고 생각하면 된다.

    모니터는 하나의 프로시저라 생각하면된다. 프로시저안에서만 필요한 로직을 수행하기 때문에, 독립적일 뿐 아니라 상호배체제를 효율적으로 해결해준다.
    ​

23. 교착 상태의 4가지 조건의 의미? **1번**

    1. 한 번에 오직 한 프로세스만이 한 자원을 사용: -> 상호배제
    2. 자원을 점유하고 있는 프로세스가 작업 종료 후, 강제적이지 않은 자발적으로만 자원을 방출:  -> 비선점형
    3. 대기하고 있는 프로세스들의 집합에서 꼬리물기로 각각의 프로세스가 다른 프로세스가 점유한 자원을 대기함: -> 순환대기(순환대기)
    4. 최소한 하나의 자원을 점유한 프로세스가 다른 프로세스에 의해 점유된 자원을 추가로 얻기 위해 대기 -> 점유대기

24. 다음 중 옳지 않은 설명을 고르시오. **2번**

    1. 교착상태란 모든 프로세스들이 필요한 자원을 할당 받지 못해 대기를 하고 있는 상태를 뜻한다.
    2. 교착상태를 처리하는 방법은 크게 4가지 방식이 있으며, 교착상태 방지 방식, 교착상태 회피 방식, 교착상태 검출 및 회복 방식, 교착상태 무시 방식이 있다. (Unix에서 무시 방식을 활용할 수 있다.)
    3. 교착상태 방지 방식은 교착상태 필요조건 4가지 중 한가지 이상을 만족하지 못하게 만드는 방법이다. 하지만 기아 상태를 유발하거나 시스템 처리율이 감소하는 현상이 발생할 수 있는 문제점을 가지고 있다.
    4. **교착상태 회피 방식은 시스템이 순환 대기 조건이 발생하지 않도록 자원 할당 상태를 검사하는 방식이다. 이 방식에 쓰이는 알고리즘으로는 자원 할당 그래프 알고리즘과 은행원 알고리즘이 있으며 자원당 다수의 인스턴스를 갖고 있는 경우에 적용할 수 없다.**

25. 기아(starvation)란?

    두 개의 프로세스가 둘 다 자원을 할당받지 못한 상태로 계속 이어져 굶어 죽는 현상을 말합니다.

    ​

26. 다음은 Bounded Buffer를 사용하는 Producer – Consumer Process코드 중 일부이다. 각각의 코드는 count++ 명령어와 count-- 명령어를 기계어에서 수행하는 과정이다. 다음 코드를 수행할 때 발생하는 문제점은? (발생하는 문제점은 여러가지일 수 있음)  
    === count++ : machine language in Producer code

    reg1 = count;

    reg1 = reg1 + 1;

    count = reg1;

    === count-- : machine language in Consumer code

    reg2 = count;

    reg2 = reg2 – 1;

    count = reg2;
    ​
    실행순서에 따라 원하는 결과값을 나타낼수 없다. 그 이유로 상호배제가 필요하다.

    유한한 개수의 버퍼를 사용할 경우, 한꺼번에 많은 자원을 요청하고나 반납하는 경우 기아현상이 발생할 수 있습니다.  
    ​

27. 다음은 데커 알고리즘이다. 다음 코드에서 발생할 수 있는 문제점은? (발생하는 문제점은 여러가지일 수 있음)

    ![](https://ws1.sinaimg.cn/large/006tKfTcgy1fn20yritqzj30ns0b2taa.jpg)



상호배제를 해결할 수 있지만, busy-waiting 현상이 발생 // 완벽하게 상호배제를 해결할 수 없는 이유는 무한 대기가 발생하기 때문에. 기아상태

28. 다음은 어떤 컴퓨터 시스템의 프로세스 – 자원 상태이다. Deadlock Avoidance 기법 중 하나인 Banker’s Algorithm을 이용하여 다음 질문에 답하시오.

    \# of Process : 5

    \# of Resource : 3

    Instance[3] = { 10, 5, 7 };  => 리소스의 instance 수

    Available[3];  =>  리소스 별로 현재 이용 가능한 자원

    Max\[5][3] = { {7, 5, 3}, {3, 2, 2}, {9, 0, 2}, {2, 2, 2}, {4, 3, 3} };  => 최대 요구 자원

    Allocation\[5][3] = { {0, 1, 0}, {2, 0, 0}, {3, 0, 2}, {2, 1, 1}, {0, 0, 2} };  => 현재 할당된 자원

    Need\[5][3] = { {7, 4, 3}, {1, 2, 2}, {6, 0, 0}, {0, 1, 1}, {4, 3, 1} };  => 프로세스 실행을 위해 필요한 자원



1. 초기 Available[3]에 들어 갈 값을 구하시오.
   3, 3, 2
2. 주어진 조건은 safety 상태인가 unsafety 상태인가? 만약 safety 상태라면, 프로세스 실행 순서를 index가 작은 순서대로 나열 하시오.
   ​
   //TODO 
   ​

29. **세마포어와 모니터의 차이**

    세마포어와 모니터가 모두 병렬 프로그래밍 환경에서 상호 배제를 달성하는 데 사용 되더라도이 작업을 수행하는 데 사용되는 기술은 서로 다릅니다. 모니터에서 상호 배제를 달성하는 데 사용되는 코드는 단일 장소에 있으며 더 구조화되어 있으며 세마포어 코드는 대기 및 신호 함수 호출로 배포됩니다. 또한 세마포어를 구현할 때 실수를하는 것은 매우 쉽지만 모니터를 구현할 때 실수를 할 가능성은 거의 없습니다. 또한 모니터는 조건 변수를 사용하지만 세마포어는 그렇지 않습니다. 세마포어에 비해서 모니터 쪽이 공유자원에 접근할수있는 키의 획득과 해제를 모두 처리해서 간단하다. 모아놓고 procedure가 struct안에 포함되어잇다. 즉, 다 모여있어서 한번에 관리하고 condition 변수를 사용해서 다르며 프로그래밍 언어에서 지원해 주어야 쓸 수 있고 동기화과정에서 발생할수 있는 문제들을 언어 차원에서 관리하므로 오류발생률이 낮다. 세마 포어는 사용하고자 하는 위치에 직접 구현해주어야 하며 구현위치도 모두 제각각 세마포어는 직접 키해제와 공유자원접근을 구현해 주어야한다. 모니터는 해당 프로시져를 이미 내포하고 세마포어는 각각의 함수로 접근해서 구현해주어야한다.

    ​

4. 라운드 로빈 스케줄링에서 할당 시간 양을 점차 늘리거나 감소시켰을 때 각각 어떤 효과가 있는가?
   ​
   **할당시간 quantum time을 줄이는 경우 fairness가 보장되지만, context switching에 소요되는 overhead가 증가하기 때문에 CPU효율이 떨어진다.** 할당시간이 늘어나는 경우 Context switching 횟수가 줄어서 오버헤드는 감소하고, 그만큼 CPU활용도는 높아지지만 fairness가 보장되지 않으며 시분할방식의 효과가 줄어든다. 또한 FCFS방식과 동일해진다. 입출력 위주의 작업이나 긴급을 요하는 작업에 신속히 반응하지 못한다.
   ​

31. Starvation과 deadlock의 차이점과 유사점은?  

    starveation : 이벤트의 어떤 특정 시간과 순서가 프로세스의 수행을 하지 못하게하는 경우에 발생하는 상태 . 주로 선입선출이아닌 우선순위 방식에 따라 요구를 서비스하는 경우에 발생. 

    유사점: 수행을 더 이상하지 않는 다는 점에서 유사. 지연 기간이 길어질수록 사용자입장에서는 교착과 starvation의 구분이 힘듬. 

    즉, 수행 가능성의 차이 
    ​

32. 교착상태 회피가 교착상태 방지보다 직관적으로 호소력 있는 이유는 무엇인가?

    교착상태 방지를 사용하면 자원 활용도가 떨어지는 결과를 초래한다. 그러나 교착상태 회피는 교착상태의 가능성이 어느정도 있을 수 있지만 교착상태가 발생하려는 조짐을 보일 때마다 조심스럽게 비켜서는 전략을 취한다. 따라서 교착상태도 피하고 자원 활용도 높일 수 있기 때문이다 또한 교착상태 회피가 더 많은 동시 사용자를 허용한다.
    ​

33. OX 문제 
    1. 임계 영역에서의 작업은 신속하게 이루어져야 한다.
    2. 어느 한 시점에서 둘 이상의 프로세스가 동시에 자원 또는 데이터를 사용할 수 있도록 지정된 공유 영역을 의미한다.
    3. 은행가 알고리즘(Banker's Algorithm)은 다음 교착상태 해결 방법 중 교착상태 detection에 속하는 방법이다. 
    4. HRN(Highest Response-ratio Next) 스케줄링 방식은 대기 시간이 긴 프로세스일 경우 우선순위가 낮아진다.

34. 병행프로세스란 무엇인지 병렬프로세스와 비교하여 설명하시오.

    **병행프로세스는 순차적 프로그래밍과 유사하게 하나에 하나씩처리하지만, 다중으로 실행되는 프로세스를 말하면 병렬프로세스는 초당 처리되는 프로세스가 하나가 아니라, 병행적으로 처리되는 것을 말합니다.**

35. 다음 중 병행 프로세스가 가지고 있는 해결과제가 아닌 것은? **3.**

    ① 공유자원을 상호배타적으로 사용해야 하기 때문에 통신망 등을 한순간에 하나의 프로세스만 사용해야 한다.

    ② 병행 프로세스 간 협력이나 동기화가 필수적으로 되어야만 한다.

    ③ 병행 프로세스를 수행하는 과정에서 실행순서는 크게 고려되지 않아도 된다.

    ④ 교착상태를 해결해야 한다.

    ⑤ 상호배제를 보장해야 한다.

    ​

10. 임계영역은 다음 세가지 조건을 만족해야 하는데 빈칸을 채우시오. 

   \- (Mutal Exclusion): 어떤 프로세스가 임계영역에서 작업중이면, 다른 프로세스는 임계영역으로 들어갈 수 없다.

   \- (progress                            ): 임계 영역에 프로세스가 없는 상태에서 여러 프로세스가 들어가려고 할 때는 어떤 프로세스는 반드시 진입할 수 있어야 한다.

   \- ( bounding Waiting                              ): 다른 프로세스가 임계 영역을 무한정 기다리는 상황을 방지해야 한다.



37. 다음은 상호배제 방법 중 하나인 TAS(TestAndSet)명령어이다. 이 명령어의 사용의 장점과 단점을 쓰시오.



내가 쓴 답 : 하드웨어적으로 해결하는 방식의 TAS는 Busy Waiting을 발생시키는 것을 방지해주는 역할을 한다. 단점 글쎄...

모법 답안:   

장점: 메모리 영역의 값에 대해 검사와 수정을 원자적으로 수행 할 수 있는 하드웨어 명령어 이기 때문에 구현이 단순하고 확인이 용이하다. 다중 임계 영역을 지원한다. **(원자적으로 수행된다는 의미는? 한순간에 하나씩만 수행한다.)**

단점: while문에서 P0가 임계영역을 벗어날 때 까지 계속 TestAndSet()함수를 체크해야 하므로 바쁜대기가 발생한다.또한 프로세스가 임계 영역을 떠날 때 프로세스 하나 이상이 대기하는 경우 기아 상태가 발생할 수 있다.

![](https://ws1.sinaimg.cn/large/006tKfTcgy1fn21ag1rauj30wq0hygof.jpg)



38. 다음 교착상태의 예방을 위한 방법과 그에 따른 문제점을 연결하시오.

    ​
    ① 자원의 상호배제 조건 방지                      	a. 자원의 효율성이 낮다, 기아상태 발생가능하다.

    ② 점유와 대기 조건 방지                                   b. 비현실적이다.

    ③ 비선점 조건방지                                           c. 프로세스의 속도를 떨어트리며 비효율적이다.

    ④ 순환 대기 조건방지                                       d. 프린터 같은 자원에 적용하기 어렵다.



2-a , 1-b, 3-d, 4-c