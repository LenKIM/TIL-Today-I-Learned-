## LRU(Least Recently Used) VS LFU(Least Frequently Used)



### LFU

가장 적은 참조횟수를 갖는 페이지를 교체

1. 주 기억장치에 적재되어 있는 페이지들에 대해 이들이 참조된 횟수를 기준으로 교체될 페이지를 선정하는 기법

2. "한 프로세스에게 할당된 페이지 프레임들 모두에 페이지들이 적재되어 있는 상황에서 새로운 페이지가 적제되어야 할 때에는 현재 주 기억장치에 적재되어 있는 페이지들 중 가장 참조 횟수가 적은 페이지를 교체한다. 
   만일 교체 대상인 페이지가 여러 개일 경우. 즉, 가장 적은 참조횟수를 갖는 페이지가 여러개일 경우 LRU기법에 따라 페이지를 교체"

   ![](https://ws3.sinaimg.cn/large/006tNc79gy1fpr9ie5h7rj30ss0c8k1a.jpg)

   ​

처음에 참조 스트링에 1이 있고 페이지 프레임도 4개가 존재한다.

모든 프레임에 1이 없고 비어있기 때문에 첫 번째 프레임에 1을 넣어주고 F를 표시한다.

그 다음 2와6도 마찬가지로 두 번째 세 번째 프레임에 각각 2와 6을 넣어준다.

이 또한 프레임에 data가 존재하지 않았으므로 F를 표시해준다.
그 다음 5가 **오는데 LFU는 가장 적은 참조횟수를 갖는 페이지를 교체하기 때문에 두 번째 프레임에 5가 들어간다.**

(첫 번째 프레임은 4초에 한번 더 참조되었다.) 2,3,4 프레임 모두 한번씩 참조되었기 때문에 2프레임부터 순서대로 들어가게 된다. 따라서 2프레임에 5가 들어간다.

위와 같은 방법으로 가장 적은 참조가 된 순서대로 페이지를 교체한다.

### LRU(Least Recently Used)

가장 오랫동안 참조되지 않은 페이지를 교체

1. 주기억장치에 적재되어 있는 페이지들에 대해 이들이 참조된 시간을 기준으로 교체될 페이지를 선정하는 기법
2. "한 프로세스에게 할당된 페이지 프레임들 모두에 페이지들이 적재되어 있는 상황에서 새로운 페이지가 적재되어야 할 때에는 현재 주기억장치에 적재되어 있는 페이지들 중 **최근 가장 오래동안 참조되지 않은 페이지를 교체한다.**"
3. 프로그램의 지역성을 고려할 때 최근에 참조된 페이지는 앞으로도 참조될 가능성이 많다는 것에 착안, 즉, MIN알고리즘의 성능에 근사하고자 제시한 기법
4. 단점 : 프로세스가 주기억장치에 접근할 때마다 참조된 페이지에 대한 시간을 기록해야 한다는 오버헤드가 발생.

![](https://ws4.sinaimg.cn/large/006tNc79gy1fpr9ukgq1pj30y00lajxr.jpg)

처음에 참조 스트링에 1이 있고 페이지 프레임도 4개가 존재한다.

모든 프레임에 1이 없고 비어있기 때문에 첫 번째 프레임에 1을 넣어주고 F를 표시한다.

그 다음 2와 6도 마찬가지로 두번 째 세번째 프레임에 각각 2와6을 넣어준다.

이 또한 프레임에 data가 존재하지 않았으므로 F를 표시해준다.

다시 1을 참조할 때 첫 번째 프레임에 1이 존재하므로 다음으로 넘어간다.

4도 마찬가지로 프레임에 4가 없고 네 번째 프레임이 비었으므로 4을 넣어주고 F를 표시한다.

그 다음 5가 오는데 LRU는 오랫동안 참조되지 않은 페이지를 교체하기 때문에 두 번째 프레임에 5를 대입한다.

(첫 번째 프레임은 4초에 참조되어있기 때문에 두 번째 프레임(가장 오래됨)이 바뀌게 된다.)

이 다음도 이와 같은 방법으로 가장 오래된 프레임을 바꾸어 준다.

