인텔

**스펙터는 ‘분기예측’ 기능에서, 멜트다운은 ‘비순차적 명령어 처리’ 방식에서**

두 가지 취약점을 이해하기 위해선 각 버그가 공격 지점으로 삼는 구조에 대한 이해가 필요하다. 먼저 스펙터는 CPU 운영 프로세스 중 ‘분기예측(Branch Prediction)’ 기능에서 발생한 문제다. 분기예측이란 명령어 처리 고속화를 위해 사용되는 방법으로, 명령어에 따라 실행될 조건을 미리 예측해 데이터를 준비해두는 것을 말한다. 스펙터는 분기예측 과정에서 예측에 실패한 데이터들을 캐시에 저장해두는 상태를 공격 지점으로 삼는다. 고의로 명령어를 조작해 해당 캐시 메모리에 비정상적인 접근이 발생할 경우 막을 방안이 마련되지 않은 것이다.

왜 인텔게이트?

이번 이슈가 ‘인텔 게이트’라고 불리는 이유는 멜트다운 버그 때문이라고 봐도 무방하다. 앞서 설명한 스펙터 버그가 멜트다운에 비해 해결 방법이 어려울 뿐, 버그의 위험성에 있어서는 멜트다운이 더 치명적이기 때문이다. 멜트다운은 각자 격리되어있는 커널 메모리 운영체계를 교란시켜 응용프로그램이 권한 없는 데이터까지 접근할 수 있도록 하는 방식을 말한다. 연구팀은 멜트다운 버그가 인텔 CPU에서만 적용됐다고 밝혔다.

멜트다운은 ‘비순차적 명령어 처리(Out of oder exceution)’ 설계에서부터 발생했다. 비순차적 명령어 처리 방식이란 CPU가 처리 속도를 최적화하기 위해 처리하기 어려운 명령어를 캐시 메모리에 저장해두는 것을 말한다. 기본적인 명령어 처리 방식에선 특정 응용 프로그램이 커널 메모리를 통해 내부 메모리 접근을 시도할 때, 커널 메모리는 필요한 데이터에 대해 통로 역할을 해주게 된다. 이는 각 메모리에 대해 권한이 없는 응용 프로그램의 접근이 막혀있다는 것을 의미한다. 하지만 멜트다운은 비순차적 명령어 처리가 이뤄지는 과정에서 해당 보안 구조가 무너져 내린다는 것을 의미한다.