## MAC 계층



- LAN환경에서 데이터링크계층을 LLC계층과 MAC계층으로 나누어 처리
- LLC(Logical Link Control)
  - 데이터링크 계층의 기본 기능
  - WAN의 데이터링크 계층과 거의 유사
  - LAN 특성에 따라 부분적인 차이가 있을 수 있음
- MAC(Medium Access Control)
  - 물리적 선로의 특징과 매체간의 연결방식에 따른 제어
  - 이더넷, 토큰 링, 토큰 버스

![](https://ws1.sinaimg.cn/large/006tNc79ly1fntwkdhlh8j30mi0jcjvu.jpg)

#### 1.1 MAC 계층

MAC(Medium Access Control) 계층은 전송 선로의 물리적인 특성을 반영하므로 LAN의 종류에 따라 특성이 구분된다.

#### 1.2 IEEE 802 시리즈

- 802.1  
  : 관련 표준안 전체 소개 / 인터페이스 프리미티브 정의  
- 802.2  
  : LLC 프로토콜 정의  
- 802.3 ~  
  : 물리계층과 MAC 계층  

![](https://ws1.sinaimg.cn/large/006tNc79ly1fntwwoqnqmj30mq0iqtdz.jpg)



**2.1 CSMA/CD**

- 다중접근채널(Multiple Access Channel) 방식을 이용하여 공유매체에 프레임을 전송하는 방식에서는 충돌 발생 가능성 존재.

  충돌 문제를 해결하는 방법은 크게 두가지이다. 하나는 다수의 호스트가 송신한 프레임이 공유 매체에서 충돌하는 현상을 허용하는 방식으로 충돌이 발생한 후에 문제를 해결한다. 다른 하나는 충돌이 발생할 가능성을 원천적으로 차단하는 방식이다.

  ​

  충돌을 허용하는 방식의 대표적인 예는 이더넷으로 더 많이 알려진 CSMA/CD이다.

- CSMA/CD의 경우에는 충돌이 자주 발생하면 오류 복구 과정에 따라 재전송도 많이 이루어 진다. 따라서 동일한 프레임을 여러 번 재전송하는 과정을 반복하므로 네트워크의 전체 성능이 떨어진다. 일반적으로 공유 매체의 길이가 길수록 프레임의 전송 지연이 증가하여 충돌이 발생할 가능성도 높아진다.

- 충돌 문제를 해결하는 다른 방법인 충돌 회피방식은 종류가 다양하다. 가장 간단한 방법은 각 송신 호스트에 서로 다른 전송 시간대를 지정하는 타임슬롯(Tiem Slot)을 배정하는 방법이다.
  ​

**2.2 토큰 버스**

- 물리적으로는 버스구조이나 논리적으는 링구조
- 토큰(token)이라고 부르는 제어 프레임 사용

![](https://ws4.sinaimg.cn/large/006tNc79ly1fntxa8g9uvj30m60cy780.jpg)

**2.3 토큰 링**

- 순환구조의 전송매체
- 대기 모드와 전송모드로 동작

![](https://ws3.sinaimg.cn/large/006tNc79ly1fntxabxrhlj30he0io0vp.jpg)

## 2 이더넷

IEEE 802.3

- 1-persistentCSMA/CD방식의LAN환경을규정

**1-persistent CSMA**

1. 프레임을 전송하기 전에 채널(공유 버스)사용 여부를 확인 - Carrier Sence
2. 채널이 사용 중이면 유휴 상태가 될 때까지 대기
3. 이후, 채널이 유휴 상태가 되면 확률 1의 조건으로 프레임을 전송
4. 둘 이상의 호스트에서 동시에 유휴 상태로 판단하면 충돌 발생- Multiple Access
5. 충돌이 발생하면 임의의 시간 동안 대기한 후 처음부터 다시 시작



**CD(Collision Detection)**

1. 둘 이상의 호스트에서 채널이 유휴 상태라고 판단할 수 있음
2. 이런 경우 프레임 전송 과정에서 충돌이 발생
3. 따라서 충돌 감지 기능이 필수적으로 요구됨
4. 충돌이 감지되면 진행중인 프레임의 전송을 중지



**Non-persistent CSMA**

1. 프레임을 전송하기 전에 채널 사용 여부를 확인
2. **채널이 사용 중이면 더 이상 유휴 상태를 확인하지 않음**
3. 대신 임의의 시간 동안 대기 후 다시 채널 감지를 시작
4. 1-persistent 방식보다 충돌 확률을 줄일 수 있음



**P-persistent CSMA**

1. **슬롯 채널** 방식에서 주로 사용
2. 프레임을 전송하기 전에 채널 사용 여부를 확인
3. 채널이 사용 중이면 다음 슬롯까지 대기후 다시 채널 감지를 시작
4. 채널이 유휴 상태면 p의 확률로 프레임을 전송



#### 프레임의 구조

프레임 = 헤더 + 데이터 + 트레일러

![](https://ws2.sinaimg.cn/large/006tNc79ly1fntxpga2bjj314k0roguq.jpg)

![](https://ws1.sinaimg.cn/large/006tNc79ly1fntxpjx4g8j312c0qijys.jpg)



### 연결방식

- 고전적인 연결방식  
  \- 트랜시버(Transceiver)  
  \- 리피터(Repeater)

- 개선방향  
  ![](https://ws1.sinaimg.cn/large/006tNc79ly1fntxve8dd6j313u0hctfn.jpg)

- 허브와 스위치  
  ​
  \- 허브(hub, dummy hub)  

  - 각 호스트는 외형상 스타형 구조로 허브에 연결
  - 내부적인 동작 원리는 공유 버스 방식을 사용

  \- 스위칭 허브(Switching hub)  

  - 스위치 기능  
    \- 모든 호스트에게 프레임을 전송하지 않음  
    \- 목적지로 지정된 호스트에게만 프레임 전송  
    \- 따라서 동시에 여러 호스트가 데이터를 전송할 수 있음  
  - 장점  
    \- 스위치 허브의 용량이 허용되면 각각의 호스트는 할당된 LAN 용량을 모두 사용함  
    \- 일반 허브를 스위치 허브로 교체하는 과정이 간단함  

  ​

### 토큰 버스

Frame Control **<= 해당 요소가 기존 LLC계층과의 중요 차이점.** 

• 데이터 프레임과 제어 프레임을 구분



### 토큰 링

- SD,AC,ED의 세 필드로 구성

![](https://ws3.sinaimg.cn/large/006tNc79ly1fnty3j9ofmj313i0lwn5c.jpg)




​				
​			
​		
​	