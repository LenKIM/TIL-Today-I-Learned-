단일 프로세서의 경우 물리적 제약과 집적회로 공정상의 제약으로 성능과 신뢰성이 한계를 다다랐고, 이를 극복하기 위해 다수의 프로세서를 이용하는 병렬 처리가 핵심 기술로 떠올랐다.

## 1 병렬 처리의 개요

### 01 단일 프로세서의 한계?

- 병행적으로 수행될 명령어의 개수를 증가시키는 것은 프로세서의 내부 회로를 복잡하게 만들고 발열을 초래하므로 집적회로에 대한 공정상의 문제가 발생
- 클록 속도를 높이면 전력 소모량이 많아져서 발열을 초래하므로 집적회로에 대한 공정상의 문제가 발생
- 트랜지스터 사이에 이동하는 전자의 속도가 RC 지연(resistance capacitance delay), 즉 저항과 커패시턴스에 의해 제한.

### 02 병렬 처리와 요구 조건

 병렬 처리는 다수의 프로그램이나 하나의 프로그램에서 분할된 다수의 프로그램 조각을 다수의 프로세서에 분산 실행함으로써 처리 속도를 향상하는 기술. n개의 프로세서를 사용하여 병렬로 처리하면 최대 n배까지 성능을 향상할 수 있다. 전력은 전압의 제곱에 비례하기 때문에 2개의 저전압 프로세서가 1개의 고전압 프로세서보다 전력 소모량이 적다. 그러나 n개의 프로세서를 사용하더라도 n배까지 성능을 향상하기는 어렵다. 단일 프로세서 구조와 달리 병렬 처리는 다음과 같은 복잡한 문제를 일으킨다.

- 프로그램의 분할
- 분할된 프로그램을 프로세서에 배정하는 스케줄링
- 분할된 프로그램을 프로세서에 배정하는 스케줄링
- 공유자원의 경합에 대한 중재 및 공유 데이터의 동기화

### 03 컴퓨터 시스템의 분류

 병렬 처리를 포함한 컴퓨터 시스템의 분류 방법으로 가장 널리 알려진 것은 Flynn 분류법!! 이 방식은 2개의 다른 독립적인 개념인 명령어 스트림(instruction stream)과 데이터 스트림(data stream)을 기준으로 컴퓨터를 분류.  
**명령어 스트림**은 컴퓨터에 의해 수행되는 연속적인 명령어 그룹을 의미하고,  
**데이터 스트림**은 명령어 스트림에 의해 호출되는 연속적인 데이터 그룹을 의미.

- 단일 명령어 스트림 단일 데이터 스트림(SISD single instruction stream/single data stream) - 폰노이만 아키텍처가 해당
- 단일 명령어 스트림 다중 데이터 스트림(SIMD single instruction stream/multiple data stream)  
  : 하나의 명령어가 다수의 데이터를 동시에 처리하는 컴퓨터 시스템
- 다중 명령어 스트림 단일 데이터 시트림(MISD)
- 다중 명령어 스트림 다중 데이터 스트림(MIMD)  
  : 다수의 명령어 스트림이 동시에 다수의 데이터를 처리하는 컴퓨터 시스템을 말함. MIMD구조는 매우 광범위하고 대부분의 병렬 처리가 여기에 속함. 프로세서-메모리 인터페이스 수준 또는 시스템 수준에서 구현될 수 있으며, 각각 다중 프로세서 시스템, 다중 컴퓨터 시스템이라고 부른다. 다중 프로세서 시스템은 다수의 CPU를 가진 하나의 컴터이지만, 다중 컴퓨터 시스템은 다수의 컴터로 구성.

## 2 SIMD 방식 병렬 처리

 SIMD는 프로그램 카운터가 지시하는 하나의 명령어로 다수의 데이터를 병렬로 처리하는 것으로 다수의 처리장치가 모두 동기화되어 있다. 즉, SIMD 병렬 처리는 데이터 수준 병렬성을 이용하는 방식으로 대표적인 예는 배열 프로세서(array processor)와 벡터 프로세서가 있다.
SIMD 방식의 병렬처리는 그래픽 처리, 일기예보, 멀티미디어, 의료 영상 처리, 데이터마이닝 등에 적용되지만 워드 프로세서와 같은 응용에는 이 방식이 유용하지 않다.

### 01 벡터 프로세서  

하나의 제어장치와 다수의 처리장치 및 지역 메모리(local memory)가 버스나 상호 연결망으로 연결된 시스템을 의미. 모든 처리장치는 연산장치, 레지스터를 포함하며, 제어장치는 모든 처리장치를 동일한 기능으로 제어. 벡터 프로세서는 SISD와 유사함을 보여주는데, 각 원소는 상호 독집적으로 동작한다. 따라서 이를 활용해 SIMD 그조에서 실행함으로써 병렬 구조

### 02 GPU(주요!)

CPU가 처리하기 힘든 그래픽 작업을 빠르게 처리하고 고화질 모니터에 적합한 영상을 제공하기 때문에 고성능 컴퓨터에서 매우 중요한 부품이다. 그리고 GPU는 이와 같은 그래픽 작업을 수행하는 데 특화된 프로세서.

일반적인 프로그램은 실행된 명령어의 15~30%가 제어 명령어로 구성되어 있으므로 명령어 수준의 병렬성은 제한적일 수밖에 없다. 따라서 범용 프로세서는 연산장치에 비해 칩의 많은 공간을 비순차 실행을 위해 사용. 그러나 그래픽 처리의 경우 대부분 순차적인 명령어를 사용하며 빠른 속도로 데이터를 처리해야 한다.

## 3 다중 프로세서 시스템

MIMD구조의 한 종류로 다수의 프로세서를 가진 하나의 컴퓨터이다.

### 01 다중 프로세서 개요

 다중 프로세서의 **장점**  
\- 다수의 프로세서가 시스템 메모리나 주변장치의 일부 혹은 전부를 공유하며 하나의 태스크를 처리하는 데 다수의 프로세서가 협조. 이처럼 프로세서 간의 상호 작용 정도가 높기 때문에 강결합 시스템(tightly coupled system) 또는 밀결합 시스템이라고 한다.  
\- 프로세서 사이의 데이터 교환 메커니즘이 필요 없다.  
\- 프로그램 실행 중에 프로세서의 작업을 균등하게 분배할 수 있으므로 프로세서의 이용률을 극대화할 수 있다.  
\- 모든 프로세서가 단일 주소 공간을 사용하므로 기존 프로그램을 병렬 처리에 쉽게 활용할 수 있다.  

 다중 프로세서의 **단점**  
\- 프로세스와 메모리 모듈 사이에 통신량이 많으면 프로세서-메모리 상호 연결망에 과도한 트래픽이 발생할 수 있다. 따라서 높은 대역폭을 가진 상호 연결망이 아니라면 병목 현상을 초래  
\- 다수의 프로세스가 동일한 영역의 메모리에 동시에 접근할 경우 충돌이 발생

### 02 UMA 구조와 NUMA 구조

- UMA 구조(uniform memory access)
  모든 프로세서가 어느 메모리 공간에 접근하더라도 동일한 지연시간이 필요한 균일 메모리 접근(UMA)구조. 중앙 집중식 공유 메모리를 사용하는 방식이기 때문에, 공유 메모리 모듈이 공유 버스나 상호 연결망을 통해 하나의 큰 메모리처럼 모든 프로세서에 연결되어 있다. 따라서 모든 프로세서가 상호 연결망의 프로토콜에 따라 메모리에 동일하게 접근할 수 있어서 프로세서의 개수가 증가하면 상호 연결망에 과도한 트래픽이 발생.

- NUMA구조(non-uniform memory access)

  UMA구조의 문제점을 극복할 수 있는 구조로 모든 프로세서에 공유 메모리를 분산시키는 방식. 그러나 프로세서는 분산된 메모리를 하나의 연속적인 공유 공간으로 사용한다. 따라서 NUMA 구조를 분산 공유 메모리(DSM)구조. NUMA구조는 UMA구조보다 프로그램을 코딩하기가 어렵고 캐시 일관성 문제에 취약하여 캐시 일관성을 유지하도록 보완한 CC-NUMA구조 사용

- 멀티 코어
  칩 다중 프로세서(CMA)라고도 불리는 멀티코어 프로세서는 다수의 프로세서를 물리적으로 하나의 칩에 집적한 일종의 다숭 프로세서 시스템이다. 코어(core)는 멀티코어 프로세서를 포함된 프로세서를 의미, 일반 프로세서와읭 혼동을 피하기 위해 코알고 부름. 멀티코어 프로세서는 하나의 칩에 다수의 코어가 집적되어 있기 때문에 메모리의 공유가 가능하다는 점.  
  각 코어는 2차 캐시인 공유 캐시와 메모리를 공유할 수 있다. 그러나 최근에는 각 코어가 구조적으로 다르거나 다른 성능의 코어를 하나의 칩에 집적하기도 하는데, 이같은 프로세서를 이기종(heterogeneous) 멀티코어 프로세서라고 한다. CPU와 그래픽 처리를 담당하는 GPU를 하나의 칩에 집적한 프로세서가 대표적인 예.

## 4 다중 컴퓨터 시스템

다수의 독립된 컴퓨터로 구성된 하나의 시스템

### 01 다중 컴퓨터 시스템의 개요

프로세서 간의 상호작용정도가 비교적 낮기 때문에 약결합 시스템 혹은 소결합 시스템이라고도 한다. 또한 메모리 모듈을 공유하지 않고 별도로 가지고 있으므로 분산 메모리 컴퓨터 시스템이라고도 한다. 오늘날에는 다중 컴퓨터 시스템 방식으로 클러스터가 널리 사용  
다중 컴퓨터 시스템에 소속된 컴퓨터를 노드 혹은 모듈이라 칭하고 오직 자신의 메모리 공간마 볼 수 있어, 만약 다른 통신이 필요하면 상호 연결망을 통해 메세지 전달방식으로 수행.  
하나의 노드는 하나의 프로세서, 지역 메모리, 노드 인터페이스(NI),주변장치로 구성되고 각 노드는 상호 연결망으로 연결.  
**다중 컴퓨터는 다음과 같은 장점을 갖는다.**  

- 버스 경합이 거의 없다. 각 프로세서가 다른 프로세서의 간섭 없이 자신의 지역 메모리를 충분한 대역폭으로 사용할 수 있기 때문
- 공유 버스가 없으므로 노드의 개수에 대한 제한이 없다. 따라서 시스템의 크기가 노드를 연결하는 상호연결망에 좌우
- 다른 프로세서의 지역 메모리를 수정할 수 없으므로 캐시 일관성 문제에서 자유롭다.

**다중 컴퓨터는 다음과 같은 단점이 발생**

- 다른 프로세서의 메모리에 있는 데이터가 필요하면 다른 프로세서와 메시지를 통해 교환해야 하므로 빈번한 메시지 교환이 발생할 경우 성능이 떨어질 수 있다.
- 상호 메시지를 교환하는 독립적인 태스크의 집합으로 프로그램을 구성해야 하므로 프로그래밍에 대한 부담이 크다.

### 02 클러스터

클러스터는 논리적으로 단일 시스템 이미지(SSI)처럼 동작할 수 있도록 동일한 공간 내에서 고속 LAN이나 네트워크 스위치로 서로 연결된 PC혹은 워크스테이션들의 집합체를 의미한다.

**클러스터는 다음과 같은 장점을 갖는다.** 

- 낮은 구현 비용
- 고가용성
- 확장성
- 유연성
- 고성능

**클러스터는 다음과 같은 단점을 갖는다.** 

- 높은 관리 비용
- 높은 네트워크 지연

## 4 상호 연결망 구조

 많은 프로세서로 구성되고 각 프로세서는 문제를 협력하여 처리하기 위해 상호연결망으로 연결.

### 01 상호연결망의 특징

MIMD 구조에 포함된 각 프로세서는 데이터 공유나 메시지 전달과 같은 방법을 사용하여 주어진 문제를 병렬로 해결. 이때 병렬 처리 과정에서 발생하는 부담을 최소화할 수 있는 효율적인 상호 연결망을 구축하는 것이 필수적이다.

- 동기화 방식
  중앙의 글로벌 클록 사용 여부에 따라 **동기식**과 **비동기식**이 있다.  
  **동기식**은 글로벌 클록을 사용하여 상호 연결망에서 발생하는 모든 통신을 시간에 맞추는 방식, **비동기식**은 글로벌 클록 없이 동작하며 네트워크 연결 요청을 프로세서가 독립적으로 수행하는 시스템
- 교환방식
  데이터를 전송하기 전에 물리적 경로에 대한 설정 여부에 따라 회선 교환, 패킷 교환.  
  **회선 교환**은 노드 사이의 물리적 경로가 설정된 후 데이터를 전송한다. 그리고 **패킷 교환 방식**은 실제적인 물리적 경로를 설정하지 않고 데이터를 패킷 단위로 분할하여 패킷마다 상호 연결망의 다른 경로로 전송된다. 따라서 많고 짧은 메시지에는 패킷 교환 방식이 적절하고, 적고 긴 메시지에는 회선 교환 방식이 적절
- 제어방식
  상호 연결망은 **중앙 집중식** 혹은 **분산 방식**으로 제어.  
  **중앙 집중식 제어 방식**은 글로벌 제어기가 통신 요청을 받아들이고 상호 연결망의 교환 방식이 설정함으로써 상호 연결망을 승인. 반면에 **분산식 제어 방식**은 상호 연결망 자체가 통신 요청을 처리하고 교환 방식을 설정.
- 토폴리지
  발신 노드와 착신 노드의 연결 방식을 의미하며, 재구성 여부에 따라 두 가지로 분류.  
  하나는 **정적 토폴리지**로서 노드 사이에 재구성될 수 없는 전용 링크가 있으며, **동적 토폴리지**는 네트워크 스위치를 설정함으로써 재구성될 수 있는 통신 링크가 있다.

### 02 정적 상호 연결망

### 03 동적 상호 연결망



